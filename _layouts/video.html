---
layout: default
---
<main class="projects videos">
  {%- for video in page.videos -%}
  <section class="project video" itemprop="video" itemscope itemtype="http://schema.org/VideoObject">

    {%- comment -%} Section 0: Metadata. {%- endcomment -%}
    {%- assign thumbFirst = video.thumbs[0].file -%}
    <meta itemprop="name" content="{{ video.title }}">
    <meta itemprop="duration" content="{{ video.duration }}">
    <meta itemprop="thumbnailUrl" content="{{ page.thumbs_directory | absolute_url }}{{ thumbFirst }}">
    {% if video.creditDirector %}
      <meta itemprop="contributor" content="{{ video.credit }}">
      <meta itemprop="creator" content="{{ video.credit-director }}">
    {% else %}
      <meta itemprop="creator" content="Sebastian Reategui">
    {%- endif -%}
    <meta itemprop="contentUrl" content="{{ video.url }}">
    <meta itemprop="embedUrl" content="{{ video.url }}">
    <meta itemprop="uploadDate" content="{{ video.date }}">
    <meta itemprop="datePublished" content="{{ video.date }}">

    {%- comment -%} Section 1: Gallery box. {%- endcomment -%}
    <section class="gallery" itemscope itemtype="http://schema.org/ImageGallery">
      <div class="gallery-thumbs">
      {% for image in video.thumbs %}
        {%- assign thumbFileSplit = image.file | split: "." -%}
        {%- assign thumbFileName = thumbFileSplit[0] -%}
        {%- assign thumbFileExt = thumbFileSplit[1] -%}
        {%- assign thumbFileFull = image.file -%}
        {%- capture thumbFilepathFull -%}
          {{ page.thumbs_directory }}{{ thumbFileFull }}
        {%- endcapture -%}
        {%- capture thumbFilepathSmall -%}
          {{ page.thumbs_directory }}{{ thumbFileName }},w_{{ page.thumbs_size_small }}.{{ thumbFileExt }}
        {%- endcapture -%}

          {%- if forloop.index == 1 -%}
          {%- comment -%} First thumbnail. {%- endcomment -%}
          <a class="gallery-thumb-link first {% if video.url %}video{% endif %}"
            data-toggle="lightbox"
            data-gallery="gallery-{{ video.title | slugify }}"
            {% if video.url %}
            href="{{ video.url }}"
            {% else %}
            href="{{ thumbFilepathFull }}"
            {% endif %}>
              <img class="gallery-thumb"
                src="{{ thumbFilepathSmall }}">
              {% if video.url %}
              <div class="gallery-thumb-play"></div>
              {% endif %}
          </a>

          {%- else -%}
          {%- comment -%} Subsequent thumbnails. {%- endcomment -%}
          <a class="gallery-thumb-link subsequent"
            data-toggle="lightbox"
            data-gallery="gallery-{{ video.title | slugify }}"
            href="{{ thumbFilepathFull }}">
              <img class="gallery-thumb"
                src="{{ thumbFilepathSmall }}">
          </a>
          {%- endif -%}

      {% endfor %}
    </div>
    </section>

    {%- comment -%} Section 2: About box. {%- endcomment -%}
    <section class="about">
        <h4 class="title">
          <span class="date month-full">{{ video.date | date:"%B %Y" }}</span>
          <span class="date month-short">{{ video.date | date:"%b %Y" }}</span>
          <a href="{{ video.url }}">{{ video.title }}</a>
        </h4>
        <p class="description" itemprop="description">{{ video.description }}</p>
        <ul class="details">
          <li class="credit">{{ video.credit }}</li>
          <li class="credit-display">{{ video.creditDisplay }}</li>
          {%- if video.creditDirector -%}
          <li class="credit-director" itemprop="director">Director: {{ video.creditDirector }}</li>
          {%- endif -%}
          <li>
            <span class="duration">{{ video.duration | date: "%-M min" }}</span>
            &sdot;
            <span class="genre">{{ video.genre }}</span>
          </li>
          {%- if video.license -%}
          <li class="license" itemprop="license">{{ video.license }}</li>
          {%- endif -%}
          <li class="location" itemprop="locationCreated">{{ video.location }}</li>
          <br />
          {%- if video.software -%}
          <li class="software"><strong>Software</strong>: {{ video.software }}</li>
          {%- endif -%}
        </ul>
        {%- if video.available != false -%}
          <a class="btn action" href="{{ video.url }}" target="_blank">Watch</a>
        {%- endif -%}
    </section>

  </section>
  {%- endfor -%}
</main>
{{ content }}
